{"version":3,"file":"js/modularity-interactive-map.8238ffa755ba637d2132.js","mappings":"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","sources":["webpack://ModularityInteractiveMap/./source/js/front/components/pin-tooltip.js","webpack://ModularityInteractiveMap/./source/js/front/components/zoom.js","webpack://ModularityInteractiveMap/./source/js/front/components/categories.js","webpack://ModularityInteractiveMap/webpack/bootstrap","webpack://ModularityInteractiveMap/webpack/runtime/compat get default export","webpack://ModularityInteractiveMap/webpack/runtime/define property getters","webpack://ModularityInteractiveMap/webpack/runtime/hasOwnProperty shorthand","webpack://ModularityInteractiveMap/webpack/runtime/make namespace object"],"sourcesContent":["\ndocument.addEventListener('DOMContentLoaded', function() {\n    pinTooltip();\n});\n\nfunction pinTooltip() {\n\n    // Show panel\n    var pins = document.querySelectorAll('.mod-interactive-map-pin');\n    pins.forEach(function(pin) {\n        //['click', 'touchstart'].forEach(function(event) {\n        ['click'].forEach(function(event) {\n            pin.addEventListener(event, function(e) {\n                e.preventDefault();\n                var timeout = 0;\n                if (!(e.target.parentElement.parentElement.parentElement.querySelector('.mod-interactive-map-pin-info').classList.contains('mod-interactive-map-pin-info-hidden'))) {\n                    hideTooltip(e);\n                    timeout = 301;\n                }    \n                setTimeout(function () {\n                    populateTooltip(e);\n                    placeTooltip(e);\n                    showTooltip(e);\n                }, timeout);\n            });                 \n        });\n    });\n\n    // Hide panel\n    var closeTooltips = document.querySelectorAll('[data-interactive-map-close-tooltip]');\n    closeTooltips.forEach(function(closeTooltip) {    \n        //['click', 'touchstart'].forEach(function(event) {\n        ['click'].forEach(function(event) {   \n            closeTooltip.addEventListener(event, function(e) {\n                e.preventDefault();\n                hideTooltip(e);                \n            }); \n        });        \n    });  \n\n    window.addEventListener('resize', function() {\n        document.querySelectorAll('.mod-interactive-map-pin-info').forEach(function(obj, key) {  \n            obj.classList.add('mod-interactive-map-pin-info-hidden');\n        });    \n    });\n\n    window.addEventListener('orientationchange', function() {\n        document.querySelectorAll('.mod-interactive-map-pin-info').forEach(function(obj, key) {  \n            obj.classList.add('mod-interactive-map-pin-info-hidden');\n        });    \n    });\n\n\n}\n\nfunction populateTooltip(e) {\n\n    //Tooltip element\n    toolTip = e.target.parentElement.parentElement.parentElement.querySelector('.mod-interactive-map-pin-info');\n\n    //Title\n    toolTip.querySelector('h3').textContent = e.target.getAttribute('data-title');    \n\n    //Content\n    toolTip.querySelector('.description').textContent = e.target.getAttribute('data-description'); \n\n    //Link\n    toolTip.querySelector('.link').href = e.target.getAttribute('data-link'); \n    if (!e.target.getAttribute('data-link')) {\n        toolTip.querySelector('.link').style.display = 'none';\n    }\n}\n\nfunction showTooltip(e) {\n    e.target.parentElement.parentElement.parentElement.querySelector('.mod-interactive-map-pin-info').classList.remove('mod-interactive-map-pin-info-hidden');\n}\n\nfunction hideTooltip(e) {\n    e.target.parentElement.parentElement.parentElement.querySelector('.mod-interactive-map-pin-info').classList.add('mod-interactive-map-pin-info-hidden');\n}\n\nfunction placeTooltip(e) {\n    toolTip = e.target.parentElement.parentElement.parentElement.querySelector('.mod-interactive-map-pin-info');\n    var topOffset = e.target.offsetHeight;\n    var leftOffset = e.target.offsetWidth/2;   \n    toolTip.style.top = 'calc('+e.target.style.top+' - '+topOffset+'px)';\n    toolTip.style.left = 'calc('+e.target.style.left+' - '+leftOffset+'px)';\n}","\ndocument.addEventListener('DOMContentLoaded', function() {\n    zoom();\n});\n\nfunction zoom() {\n    init();\n    resize();\n\n    window.addEventListener('orientationchange', function() {\n        resize();\n    });\n\n    window.addEventListener('resize', function() {\n        resize();\n    });\n}\n\n/**\n * Resolves promise when all child images of provided parent Element have been loaded.\n * \n * @param {Element} parent \n * @returns {Promise<void>} when all found child images are loaded.\n * @throws {Error} if no images are found as children.\n */\nfunction onImageChildrenLoaded(parent) {\n    return new Promise(async (resolve) => {\n\n        const imageNodes = parent.querySelectorAll('img')\n        if (imageNodes.length === 0) throw new Error('No child image elements found.')\n        const notLoadedYet = Array.from(imageNodes).filter(img => !img.complete)\n\n        const loadedPromises = notLoadedYet.map(img => {\n            return new Promise((imageLoaded) => {\n                img.addEventListener('load', () => { imageLoaded() })\n            })\n        })\n\n        await Promise.all(loadedPromises)\n        resolve();\n\n    });\n}\n\nconst handleClick = (scale, resetButton, overflowContainer) => {\n    if(scale) {\n        resetButton.classList.remove('u-display--none');\n        overflowContainer.style.pointerEvents = 'all';\n    } else {\n        resetButton.classList.add('u-display--none');\n        overflowContainer.style.pointerEvents = 'none';\n    }\n}\n\nfunction init() {\n    document.querySelectorAll('.mod-interactive-map-container').forEach(function(obj, key) {\n        let zoomObj = obj.querySelector('.mod-interactive-map-zoomable');\n        const overflowContainer = obj.querySelector('.mod-interactive-map-overflower');\n        const resetButton = obj.querySelector('.mod-interactive-map-reset-button');\n\n        onImageChildrenLoaded(obj)\n            .then(() => {\n                const panzoom = Panzoom(zoomObj, {\n                    duration: 150,\n                    panOnlyWhenZoomed: true,\n                    minScale: 1,\n                    maxScale: (obj.querySelector('img').naturalWidth / obj.querySelector('img').clientWidth),\n                    increment: 0.1,\n                    contain: 'outside',\n                });\n\n                obj.querySelector('.mod-interactive-map-reset-button').addEventListener('click', function (event) {\n                    panzoom.reset(true);\n                    handleClick(false, resetButton, overflowContainer);\n                });\n\n                obj.querySelector('.zoom-in').addEventListener('click', function (event) {\n                    panzoom.zoomIn();\n                    handleClick(true, resetButton, overflowContainer);\n                });\n\n                obj.querySelector('.zoom-out').addEventListener('click', function (event) {\n                    panzoom.zoomOut();\n                    const zoomStatus = panzoom.getScale() < 1.1 ? false : true;\n                    handleClick(zoomStatus, resetButton, overflowContainer);\n                });\n            }).catch((error) => { console.error(error.message) });\n        \n    });\n}\n\n\nfunction resize() {\n    document.querySelectorAll('.mod-interactive-map-container').forEach(function(obj, key) {  \n        if ((obj.querySelector('img').naturalWidth / obj.querySelector('img').clientWidth) < 1.4) {\n            obj.querySelector('.mod-iteractive-map-buttons').classList.add('mod-interactive-map-pin-info-hidden');\n        } else {\n            obj.querySelector('.mod-iteractive-map-buttons').classList.remove('mod-interactive-map-pin-info-hidden');\n        }\n    });\n}","\ndocument.addEventListener('DOMContentLoaded', function() {\n    categories();\n    var checkboxes = document.getElementsByName('mod-interactive-map-category-checkbox');\n    if (checkboxes.length > 0) {\n        checkboxes[0].checked = true;\n        checkboxes[0].dispatchEvent(new Event('change'));\n    }\n});\n\nfunction categories() {\n    var activeCategories = [];\n    var checkboxes = document.querySelectorAll('input[name=mod-interactive-map-category-checkbox]');\n    checkboxes.forEach(function(checkbox) {\n        checkbox.addEventListener('change', function() {\n            var category = checkbox.getAttribute('data-interactive-map-category');\n            if (checkbox.checked) {\n                activeCategories.push(category);\n            } else {\n                activeCategories.splice(activeCategories.indexOf(category), 1);\n            } \n            var pinsLayers = document.querySelectorAll('[data-interactive-map-category-name]');\n            pinsLayers.forEach(function(pin) {\n                var keys = pin.getAttribute('data-interactive-map-category-name');\n                keys = keys.split('|');\n                if (!(keys.some(r=> activeCategories.indexOf(r) >= 0))) {\n                    pin.classList.remove('pin-visible');\n                } else {\n                    pin.classList.add('pin-visible');\n                } \n            });    \n        })\n    }); \n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["hideTooltip","e","target","parentElement","querySelector","classList","add","document","addEventListener","querySelectorAll","forEach","pin","event","preventDefault","timeout","contains","setTimeout","toolTip","textContent","getAttribute","href","style","display","populateTooltip","topOffset","offsetHeight","leftOffset","offsetWidth","top","left","placeTooltip","remove","showTooltip","closeTooltip","window","obj","key","zoomObj","overflowContainer","resetButton","parent","Promise","async","imageNodes","length","Error","loadedPromises","Array","from","filter","img","complete","map","imageLoaded","all","resolve","then","panzoom","Panzoom","duration","panOnlyWhenZoomed","minScale","maxScale","naturalWidth","clientWidth","increment","contain","reset","handleClick","zoomIn","zoomOut","zoomStatus","getScale","catch","error","console","message","resize","scale","pointerEvents","activeCategories","checkbox","category","checked","push","splice","indexOf","keys","split","some","r","checkboxes","getElementsByName","dispatchEvent","Event","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value"],"ignoreList":[],"sourceRoot":""}